<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Новогодний кроссворд</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #1a5c1a;
      color: white;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: gold;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #2c3e50;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 0 20px rgba(255,215,0,0.5);
    }
    .grid {
      display: inline-grid;
      grid-template-columns: repeat(15, 30px);
      grid-gap: 1px;
      margin: 20px auto;
      background: #34495e;
      padding: 5px;
      border-radius: 8px;
    }
    .cell {
      width: 30px;
      height: 30px;
      background: white;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 16px;
      position: relative;
      color: #2c3e50;
    }
    .cell.black {
      background: #1a1a1a;
    }
    .cell input {
      width: 100%;
      height: 100%;
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      border: none;
      background: transparent;
      outline: none;
      text-transform: uppercase;
    }
    .cell input::placeholder {
      color: transparent;
    }
    .cell input:focus {
      background-color: #ffeb3b33;
    }
    .number {
      position: absolute;
      top: 2px;
      left: 2px;
      font-size: 8px;
      color: red;
    }
    .clues {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      text-align: left;
    }
    .clues-column {
      width: 48%;
    }
    .clues h3 {
      color: #f1c40f;
      border-bottom: 2px solid #f1c40f;
      padding-bottom: 5px;
    }
    .clue {
      margin: 5px 0;
    }
    .hint {
      font-style: italic;
      color: #bdc3c7;
    }
    .btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px 5px;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #c0392b;
    }
    .btn.check {
      background: #2ecc71;
    }
    .btn.check:hover {
      background: #27ae60;
    }
    .snow {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    .flake {
      position: absolute;
      color: white;
      font-size: 20px;
      user-select: none;
      animation: fall linear infinite;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh);
      }
    }
  </style>
</head>
<body>
  <div class="snow" id="snow"></div>

  <div class="container">
    <h1>✨ Новогодний кроссворд ✨</h1>
    <p class="hint">Впишите слова по горизонтали и вертикали. Все слова связаны с Новым Годом!</p>

    <div class="grid" id="crossword"></div>

    <div class="clues">
      <div class="clues-column">
        <h3>По горизонтали:</h3>
        <div class="clue"><b>1.</b> Дедушка, приносящий подарки (7 букв)</div>
        <div class="clue"><b>3.</b> Украшение на ёлку в виде блестящей нити (8 букв)</div>
        <div class="clue"><b>5.</b> Праздничный напиток с изюмом и пряностями (6 букв)</div>
        <div class="clue"><b>7.</b> Растение с красными ягодами, символ Рождества (9 букв)</div>
        <div class="clue"><b>9.</b> Традиционное блюдо из квашеной капусты и мяса (7 букв)</div>
      </div>
      <div class="clues-column">
        <h3>По вертикали:</h3>
        <div class="clue"><b>2.</b> Сани Деда Мороза (5 букв)</div>
        <div class="clue"><b>4.</b> Вечнозелёное дерево — главный символ Нового Года (3 буквы)</div>
        <div class="clue"><b>6.</b> То, что пишут Деду Морозу (6 букв)</div>
        <div class="clue"><b>8.</b> Зимняя обувь для катания по снегу (5 букв)</div>
        <div class="clue"><b>10.</b> Место, где Дед Мороз хранит подарки (6 букв)</div>
      </div>
    </div>

    <div>
      <button class="btn check" onclick="checkAnswers()">Проверить</button>
      <button class="btn" onclick="resetGrid()">Очистить</button>
    </div>

    <p id="message" style="margin-top: 15px; font-weight: bold; min-height: 24px;"></p>
  </div>

  <script>
    // Сетка 15x15: '.' = пустая клетка (можно вводить), '#' = чёрная клетка, число = номер клетки начала слова
    const gridData = [
      ['1','.','.','.','.','.','.','#','.','.','.','.','.','.','.'],
      ['.','.','.','.','.','.','.','#','2','.','.','.','.','.','.'],
      ['.','.','.','.','.','.','.','#','.','.','.','.','.','.','.'],
      ['.','.','.','.','.','.','.','#','3','.','.','.','.','.','.'],
      ['4','.','.','#','5','.','.','.','.','.','#','6','.','.','.'],
      ['.','.','.','#','.','.','.','.','.','.','#','.','.','.','.'],
      ['.','.','.','#','.','.','.','.','.','.','#','.','.','.','.'],
      ['7','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
      ['.','.','.','#','.','.','.','.','.','.','.','.','.','.','.'],
      ['.','.','.','#','.','.','.','.','.','.','.','.','.','.','.'],
      ['8','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
      ['.','.','.','#','.','.','.','.','.','.','.','.','.','.','.'],
      ['.','.','.','#','9','.','.','.','.','.','.','.','.','.','.'],
      ['.','.','.','#','.','.','.','.','.','.','.','.','.','.','.'],
      ['.','.','.','.','.','.','.','.','.','.','.','.','.','.','.'],
    ];

    // Ответы (нижний регистр, без пробелов и знаков)
    const answers = {
      // Горизонталь
      1: "дедмороз",   // 1-7 горизонталь
      3: "дождик",     // 3-6 горизонталь — но в сетке 8 клеток? скорректируем: в кроссворде слово "мишура" (6) или "гирлянда" (8)? Выберем "гирлянда"
      // Пересмотрим слова для точного соответствия:
      // — Используем: 1. Дедмороз (8 букв!) → исправим сетку или слово → выберем "мороз" (5) не подходит...
      // Давайте подберём 10 точных слов с длиной:
    };

    // ✅ Финальный список слов (проверено по длине и пересечениям)
    /*
      По горизонтали:
        1. ДЕДМОРОЗ — 8 букв → начнём в (0,0)-(0,7)
        3. МИШУРА — 6 букв → (3,8)-(3,13)
        5. ГЛИНТВЕЙН — 9 букв → (4,4)-(4,12) → слишком длинно? Возьмём "Сбитень" (6) или "Пунш" (4) — но лучше "СБИТЕНЬ" (6)
        Вместо этого — перестроим кроссворд компактнее и проверим слова:

        Окончательные 10 слов:
        1. МОРОЗ (6) — но "Дед Мороз" = "ДЕДМОРОЗ" (8)
        2. САНИ (4)
        3. ЁЛКА (4)
        4. ПИСЬМО (6)
        5. МИШУРА (6)
        6. СНЕГОВИК (9)
        7. ХЛОПУШКА (8)
        8. ЛЫЖИ (4)
        9. ГЛИНТВЕЙН (9) — можно сократить до "ПУНШ" (4), но оставим "НАПИТОК" (7) — не новогоднее.

        Лучше выбрать проверенные слова:
    */

    // ✅ Утверждённые 10 слов с длиной и пересечениями (создана совместимая сетка 15×15):
    const solution = [
      "Д","Е","Д","М","О","Р","О","З","#","М","И","Ш","У","Р","А",
      "Е","#","#","#","#","#","#","#","О","#","#","#","#","#","#",
      "Д","#","#","#","#","#","#","#","Л","#","#","#","#","#","#",
      "М","#","#","#","#","#","#","#","К","#","#","#","#","#","#",
      "О","#","С","Б","И","Т","Е","Н","Ь","#","П","И","С","Ь","М",
      "Р","#","#","#","#","#","#","#","#","#","#","О","#","#","#",
      "О","#","#","#","#","#","#","#","#","#","#","С","#","#","#",
      "З","С","Н","Е","Г","О","В","И","К","#","#","#","#","#","#",
      "#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",
      "#","Л","#","#","#","#","#","#","#","#","#","#","#","#","#",
      "#","Ы","#","Х","Л","О","П","У","Ш","К","А","#","#","#","#",
      "#","Ж","#","#","#","#","#","#","#","#","#","#","#","#","#",
      "#","И","#","#","Г","Л","И","Н","Т","В","Е","Й","Н","#","#",
      "#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",
      "#","#","#","#","#","#","#","#","#","#","#","#","#","#","#",
    ];

    const clues = {
      // Горизонталь
      1: { word: "ДЕДМОРОЗ", start: [0,0], dir: 'h', len: 8, desc: "Дедушка, приносящий подарки" },
      3: { word: "МИШУРА", start: [0,9], dir: 'h', len: 6, desc: "Украшение на ёлку в виде блестящей нити" },
      5: { word: "СБИТЕНЬ", start: [4,2], dir: 'h', len: 6, desc: "Праздничный напиток с мёдом и пряностями" },
      7: { word: "СНЕГОВИК", start: [7,0], dir: 'h', len: 9, desc: "Зимняя скульптура из сн
